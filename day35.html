<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JAN犬PON！</title>
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="day35.css">

	<script src="https://code.jquery.com/jquery-3.1.1.js"></script>

	<script>
		function janken(){

			if($(".selected").length===0){
				alert("Choose your Dog!");
				return;
			}

			var evalue = Math.floor(Math.random()*3.0);

			$("#enemy").remove();

			$("#enemyPanel").append("<img id='enemy' src='janken"+evalue+".png' />");
			var pfilename = $(".selected").attr("src");
			var pvalue = pfilename.match(/\d/)[0];
			var result = (pvalue+3-evalue)%3;
			$("#result").text(["draw","You Lose","You Win"][result]);
		}

		function onClickPlayerIcon(self){

			$(".selected").each(function(){
				$(this).toggleClass("selected");
			});

			$(self).toggleClass("selected");
		}
	</script>

</head>

<body>
  <div class="container" id="playerPanel">

    <h1 id="message">Choose your Dog</h1>

    <div class="images">
      <img src="janken0.png" width="150" height="150" onClick="onClickPlayerIcon(this)"><!--グー -->
      <img src="janken1.png" width="150" height="150" onClick="onClickPlayerIcon(this)"><!--チョキ -->
      <img src="janken2.png" width="150" height="150" onClick="onClickPlayerIcon(this)"><!--パー -->
    </div>

    <div id="jankenControl">
      <div class="btn" onClick="janken()">JAN犬PON！</div>
    </div>

    <div id="enemyPanel">
      <h2>Enemie's Dog</h2>
      <img src="janken3.png" id="enemy">
    </div>

    <div id="resultPanel">
      <h3>Win or Lose</h3>
      <p id="result"></p>
    </div>

  </div>
</body>
</html>
